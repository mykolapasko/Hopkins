<div class="container">
  <form name='regForm' class="form-horizontal" novalidate>
    <div class="form-group">
      <label class="col-sm-2 control-label">Firstname</label>
      <div class="col-sm-6">
        <input type="text"
               name="firstname" 
               class="form-control" 
               placeholder="Pick a firstname"
               ng-model="regCtrl.user.firstname"
               required
               minlength="2"
               ng-maxlength="20">
              <span ng-if="(regForm.firstname.$error.minlength || 
                    regForm.firstname.$error.required) && 
                    regForm.firstname.$touched">
                    Firstname must be at least 2 characters long
              </span>
              <span ng-if="regForm.firstname.$error.maxlength && 
                    regForm.firstname.$touched">
                    Firstname must not be longer than 20 characters
              </span>
            <br>
      </div>
    </div>
        <div class="form-group">
      <label class="col-sm-2 control-label">Lastname</label>
      <div class="col-sm-6">
        <input type="text"
               name="lastname" 
               class="form-control" 
               placeholder="Pick a lastname"
               ng-model="regCtrl.user.lastname"
               required
               minlength="2"
               ng-maxlength="20">
              <span ng-if="(regForm.lastname.$error.minlength || 
                    regForm.lastname.$error.required) && 
                    regForm.lastname.$touched">
                    Lastname must be at least 2 characters long
              </span>
              <span ng-if="regForm.lastname.$error.maxlength && 
                    regForm.lastname.$touched">
                    Lastname must not be longer than 20 characters
              </span>
            <br>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Email</label>
      <div class="col-sm-6">
        <input type="email"
               name="email" 
               class="form-control" 
               placeholder="Email"
               ng-model="regCtrl.user.email"
               required>
              <span ng-if="regForm.email.$invalid &&
                    regForm.email.$touched">
                    Must be a valid email address: handle@domain format
              </span>
            <br>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Phone</label>
      <div class="col-sm-6">
        <input type="text"
               name="phone" 
               class="form-control" 
               placeholder="Phone ###-###-####"
               ng-model="regCtrl.user.phone"
               pattern="(\d{3})-(\d{3})-(\d{4})">
              <span ng-if="regForm.phone.$invalid &&
                    regForm.phone.$touched">
                    Phone must be in the format ###-###-####.
              </span>
            <br>
      </div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Favorite dish</label>
      <div class="col-sm-6">
        <input type="text"
               name="favorite" 
               class="form-control" 
               placeholder="Specify your favorite dish menu number (e.g. b12)"
               ng-model="regCtrl.user.favorite"
               required
               shortname-validator>
               <span ng-if="regForm.favorite.$pending">
                    Checking your favorite dish.
              </span>
            <br>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" 
                class="btn btn-default"
                ng-disabled="regForm.$invalid || regForm.$pending"
                ng-click="regCtrl.submit(user)">
                Sign in
        </button>
      </div>
    </div>

  </form>
</div>
  
<div ng-if="regCtrl.completed">
  <h3 class="text-center">Your information has been saved</h3>
</div>